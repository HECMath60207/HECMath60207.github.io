<!DOCTYPE html>
<html lang="en"><head>
<script src="lecture10_files/libs/clipboard/clipboard.min.js"></script>
<script src="lecture10_files/libs/quarto-html/tabby.min.js"></script>
<script src="lecture10_files/libs/quarto-html/popper.min.js"></script>
<script src="lecture10_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="lecture10_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lecture10_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="lecture10_files/libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.40">

  <meta name="author" content="Vincent Grégoire">
  <meta name="author" content="Saad Ali Khan">
  <title>MATH60207: Lecture 10</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="lecture10_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="lecture10_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="lecture10_files/libs/revealjs/dist/theme/quarto-c87e1ac64da212655adbce24386e8be8.css">
  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">
  <link href="lecture10_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="lecture10_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="lecture10_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="lecture10_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="lecture10_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="lecture10_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&amp;family=Noto+Sans:ital,wght@0,100..900;1,100..900&amp;family=Noto+Serif:ital,wght@0,100..900;1,100..900&amp;family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">MATH60207: Lecture 10</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Vincent Grégoire 
</div>
<div class="quarto-title-author-email">
<a href="mailto:vincent.gregoire@hec.ca">vincent.gregoire@hec.ca</a>
</div>
        <p class="quarto-title-affiliation">
            HEC Montréal
          </p>
    </div>
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Saad Ali Khan 
</div>
<div class="quarto-title-author-email">
<a href="mailto:saad-ali.khan@hec.ca">saad-ali.khan@hec.ca</a>
</div>
        <p class="quarto-title-affiliation">
            HEC Montréal
          </p>
    </div>
</div>

</section>
<section id="outline" class="slide level2">
<h2>Outline</h2>
<div style="height: 3em;">

</div>
<ul>
<li>Methodological problems versus data-mining</li>
<li>Replication and reproducibility</li>
</ul>
</section>
<section id="replicable-finance-research" class="slide level2">
<h2>Replicable Finance Research</h2>
<div style="height: 2em;">

</div>
<p>Idealized scientific research:</p>
<ul>
<li>Benefits from collaboration</li>
<li>Benefits from openness and transparency</li>
<li>Benefits from clear methodology</li>
</ul>
</section>
<section id="replicable-finance-research-1" class="slide level2">
<h2>Replicable Finance Research</h2>
<div style="height: 2em;">

</div>
<p>Empirical finance research in academia:</p>
<ul>
<li>Incentives not always aligned towards transparency. Publishing helps for:
<ul>
<li>Reputation</li>
<li>Funding future projects.</li>
<li>Job security.</li>
<li>Consulting opportunities.</li>
</ul></li>
<li>Limited transparency is common (proprietary datasets.)</li>
</ul>
<div style="height: 2em;">

</div>
<p>Ideally research would involve common objectives, where conclusions can generate public goods, hence the idea behind publishing.</p>
<div style="height: 1em;">

</div>
<p>Does this make sense in empirical finance?</p>
</section>
<section id="replicable-finance-research-2" class="slide level2">
<h2>Replicable Finance Research</h2>
<div style="height: 2em;">

</div>
<p>Empirical finance research in industry:</p>
<ul>
<li>Transparency hinders profit opportunities</li>
<li>Collaboration is limited</li>
<li>Methodology is often idiosyncratic</li>
</ul>
<div style="height: 2em;">

</div>
<p>This is due to the fact that asymmetric information in markets is what creates opportunities for individuals.</p>
<ul>
<li>If you have multiple profit-maximizing traders with asymmetric information, you can’t have fully efficient markets <span class="citation" data-cites="grossman1980impossibility">(<a href="#/references" role="doc-biblioref" onclick="">Grossman and Stiglitz 1980</a>)</span></li>
</ul>
</section>
<section id="replicable-finance-research-3" class="slide level2">
<h2>Replicable Finance Research</h2>
<div style="height: 2em;">

</div>
<p><strong>Question:</strong> If incentives are sometimes aligned against collaborative and open-source empirical finance research, should we expect research to be replicable?</p>
<div style="height: 2em;">

</div>
<p><strong>Follow-up question:</strong> If incentives are that publishing is highly rewarded, can we expect published research to be “genuine” research?</p>
<div style="height: 2em;">

</div>
<p>It is an important issue in empirical finance:</p>
<ul>
<li>Recent studies in empirical finance, notably in asset pricing, have taken a turn towards testing the replicability of past findings.</li>
<li>Most journals now require code availability for replicability and sharing of non-proprietary data.</li>
<li>Top journals in finance have retracted papers recently because of replication issues.</li>
</ul>
</section>
<section id="methodological-problems-versus-data-mining" class="slide level2">
<h2>Methodological Problems versus Data-Mining</h2>
<div style="height: 1em;">

</div>
<p>Data mining, aka <span class="math inline">p</span>-hacking:</p>
<ul>
<li>Repeated testing of “random” hypotheses until you have significant results.</li>
<li>Objective is to generate exaggerated results in line with an incentive (i.e.&nbsp;publishing)</li>
<li>Unethical practice which must be avoided</li>
<li>Can be intentional, but also unintentional</li>
</ul>
<div style="height: 1em;">

</div>
<p>Overfitting:</p>
<ul>
<li>Methodological issue</li>
<li>Arise naturally in the course of any statistical analysis</li>
<li>Makes it hard to generalize a model and take it out-of-sample</li>
</ul>
<div style="height: 1em;">

</div>
<p>In conclusion, as good statisticians, our goal is to avoid data mining from our research methodology while limiting statistical bias when appropriate, and to recognize these issues when evaluating other researchers’ results.</p>
</section>
<section id="overfitting" class="slide level2">
<h2>Overfitting</h2>
<div style="height: 2em;">

</div>
<p>Estimation of multiple different models in the same statistical analysis on the same data and picking the one that optimizes some objective function:</p>
<ul>
<li><span class="math inline">R^2</span></li>
<li>Log-likelihood function</li>
<li>Information criteria</li>
<li>Profits generated (backtest)</li>
</ul>
<div style="height: 2em;">

</div>
<p>Models that suffer from overfitting tend to perform badly out of sample.</p>
</section>
<section id="overfitting---a-simple-model" class="slide level2">
<h2>Overfitting - A Simple Model</h2>
<div style="height: 1em;">

</div>
<p>Let <span class="math inline">X_{t},Y_{t}</span> be our variables with <span class="math inline">Y_{t}=X_{t}\beta+\varepsilon_{t}</span></p>
<ul>
<li><span class="math inline">E\left(\varepsilon_{t}X_{t}\right)=0</span> and <span class="math inline">\varepsilon_{t}\sim N(0,\sigma)</span> i.i.d.</li>
<li><span class="math inline">\left\{X_{1,t},Y_{1,t}\right\}</span> are the data for our main sample</li>
<li><span class="math inline">\left\{X_{2,t},Y_{2,t}\right\}</span> are the data for a second sample</li>
</ul>
<div style="height: 2em;">

</div>
<h3 id="problem">Problem</h3>
<div style="height: 0.5em;">

</div>
<p>We want to use <span class="math inline">X</span> to predict <span class="math inline">Y.</span></p>
<p>Suppose we want to minimize <span class="math inline">E\left[  \left(  Y_{t}-X_{t}\theta\right)^{2}\right]</span></p>
<p>Ideally, we should use <span class="math inline">\theta=\beta</span>. But <span class="math inline">\beta</span> is unknown.</p>
<p>If we only had <span class="math inline">\left\{  X_{1t},Y_{1t}\right\}  ,</span> we could minimize <span class="math inline">E\left[ \left(  Y_{1,t}-X_{1,t}\theta\right)^{2}\right] \Rightarrow\widehat{\theta}=\widehat{\theta}_{OLS}</span></p>
</section>
<section id="overfitting-1" class="slide level2">
<h2>Overfitting</h2>
<div style="height: 1em;">

</div>
<h3 id="fact">Fact</h3>
<p><span class="math inline">Q_{1}=\sum_{t=1}^{T}\left(  \left(  Y_{1t}-X_{1t}\beta\right)^{2}-\left(  Y_{1t}-X_{1t}\widehat{\theta}\right)^{2}\right)</span></p>
<p><span class="math inline">E\left(  Q_{1}\right)  =k\cdot\sigma^{2}</span> where <span class="math inline">k=</span> dimension of <span class="math inline">X</span></p>
<ul>
<li>OLS tends to underestimate prediction error (i.e.&nbsp;“overfit”)</li>
</ul>
<div style="height: 1em;">

</div>
<h3 id="fact-1">Fact</h3>
<p><span class="math inline">E\left[  Q_{2}\right]  =E\left[  \sum_{t=1}^{T}\left(  \left(  Y_{2t}-X_{2t}\beta\right)^{2}-\left(  Y_{2t}-X_{2t}\widehat{\theta}\right)^{2}\right) \right]  =-k\cdot\sigma^{2}</span></p>
<ul>
<li>The over-fitting in-sample <em>hurts</em> our performance out-of-sample.</li>
<li>The more we over-fit, the more it hurts our forecast.</li>
<li>To avoid overfitting, we should use models with similar performance in-sample and out-of-sample and techniques such as cross-validation.</li>
</ul>
</section>
<section id="multiple-hypotheses-testing" class="slide level2">
<h2>Multiple Hypotheses Testing</h2>
<h3 id="literature-review---ioannidis2005most">Literature Review - <span class="citation" data-cites="ioannidis2005most">Ioannidis (<a href="#/references" role="doc-biblioref" onclick="">2005</a>)</span></h3>
<div style="height: 1em;">

</div>
<p>Numerous elements can cause results to be biased and invalid:</p>
<ul>
<li>Studies in the field are smaller</li>
<li>Greater number and lesser preselection of tested relationships</li>
<li>Greater flexibility in design, definitions, outcomes and analytical modes</li>
<li>Greater financial and other interest in prejudice</li>
<li>More teams are involved in a scientific field in chase of statistical significance</li>
</ul>
<div style="height: 1em;">

</div>
<p>He concludes that it is likely for most scientific findings to be more false than true, being accurate measures of prevailing bias rather than actual rigorous results.</p>
<div style="height: 1em;">

</div>
<p>We have seen that in the context of empirical finance, financial incentives and flexibility in design can play a large role in driving results.</p>
</section>
<section id="multiple-hypotheses-testing-1" class="slide level2">
<h2>Multiple Hypotheses Testing</h2>
<h3 id="literature-review---ioannidis2005most-1">Literature Review - <span class="citation" data-cites="ioannidis2005most">Ioannidis (<a href="#/references" role="doc-biblioref" onclick="">2005</a>)</span></h3>
<div style="height: 1em;">

</div>
<p><strong>Why are most medical findings false?</strong></p>
<div style="height: 1em;">

</div>
<p>Definitions</p>
<ul>
<li><span class="math inline">H_{0}</span>: A null hypothesis either <span class="math inline">H_{0}=T</span> or <span class="math inline">H_{0}=F</span></li>
<li><span class="math inline">S</span>: A statistical test of <span class="math inline">H_{0}</span>; either <span class="math inline">S=t</span> or <span class="math inline">S=f</span></li>
<li><span class="math inline">\alpha</span>: <span class="math inline">\Pr\left(  S=f|H_{0}=T\right)</span> This is the type I error rate (a.k.a. significance level.) Typically 5%</li>
<li><span class="math inline">1-\beta</span>: <span class="math inline">\Pr\left(  S=f|H_{0}=F\right)</span> This is the power of the test (i.e.&nbsp;<span class="math inline">1-</span> the Type II error rate)</li>
<li><span class="math inline">R</span>: fraction of <span class="math inline">H_{0}</span> that are <span class="math inline">F</span> <em>relative</em> to the fraction that are <span class="math inline">T</span>. If we only test one <span class="math inline">H_{0}\Rightarrow \Pr\left(  H_{0}=F\right) =\frac{R}{R+1}</span></li>
<li><span class="math inline">PPV</span>: Positive Predictive Value <span class="math inline">\equiv\Pr\left( H_{0}=F|S=f\right)</span></li>
</ul>
<p>See <a href="https://xkcd.com/1132/">xkcd</a></p>
</section>
<section id="ioannidis2005most" class="slide level2">
<h2><span class="citation" data-cites="ioannidis2005most">Ioannidis (<a href="#/references" role="doc-biblioref" onclick="">2005</a>)</span></h2>
<div style="height: 2em;">

</div>
<p>Bayes Theorem implies</p>
<p><span class="math display">\begin{align*}
PPV  &amp; =\Pr\left(  H_{0}=F|S=f\right) =\frac{\Pr\left(  H_{0}=F,S=f\right)}{\Pr\left(  S=f\right)}\\
&amp;=\frac{\left(  1-\beta\right)  \cdot\Pr\left(  H_{0}=F\right)}{\left(  1-\beta\right)  \cdot\Pr\left(  H_{0}=F\right)  +\alpha\cdot\Pr\left(  H_{0}=T\right)}\\
&amp;=\frac{\left(  1-\beta\right)  \cdot R}{\left(  1-\beta\right)  \cdot R+\alpha}
\end{align*}</span></p>
<div style="height: 1em;">

</div>
<p><span class="math inline">\therefore</span> Research findings are more likely right than wrong</p>
<p><span class="math display">
\iff\left(  1-\beta\right)  \cdot R&gt;\alpha\approx0.05
</span></p>
</section>
<section id="ioannidis2005most-1" class="slide level2">
<h2><span class="citation" data-cites="ioannidis2005most">Ioannidis (<a href="#/references" role="doc-biblioref" onclick="">2005</a>)</span></h2>
<div style="height: 2em;">

</div>
<p><strong>Implications</strong></p>
<ol type="1">
<li>Results from low power tests (i.e.&nbsp;small <span class="math inline">(1-\beta) \rightarrow 5\%</span>) are more likely to be false than true if <span class="math inline">R&lt;1</span>.
<ul>
<li>Beware of small samples.</li>
</ul></li>
<li>Theory helps if it raises <span class="math inline">R</span>.
<ul>
<li>Folk Theorem: Can theory justify <em>anything</em>?</li>
</ul></li>
</ol>
</section>
<section id="ioannidis2005most-2" class="slide level2">
<h2><span class="citation" data-cites="ioannidis2005most">Ioannidis (<a href="#/references" role="doc-biblioref" onclick="">2005</a>)</span></h2>
<div style="height: 2em;">

</div>
<p><strong>Repeated Testing</strong></p>
<p><span class="math inline">n \equiv</span> number of <span class="math inline">H_{0}</span> tested (but not reported) to produce 1 statistically significant result that is reported</p>
<p>Now,</p>
<p><span class="math display">
PPV = \frac{\left(  1-\beta^{n}\right)  \cdot R}{\left(  1-\beta^{n}\right)  \cdot R+\left[  1-\left(  1-\alpha\right)  ^{n}\right]} \approx \frac{\left(  1-\beta^{n}\right)  \cdot R}{\left(  1-\beta^{n}\right)  \cdot R+\left[  1-.95^{n}\right]}
</span></p>
<div style="height: 1em;">

</div>
<p>Research findings are more likely right than wrong</p>
<p><span class="math display">
\iff\left(  1-\beta^{n}\right)  \cdot R&gt;1-\left(  1-\alpha\right) ^{n}
</span></p>
<p>Raising <span class="math inline">n</span> can make it harder to satisfy this condition!</p>
</section>
<section id="multiple-hypotheses-testing-2" class="slide level2">
<h2>Multiple Hypotheses Testing</h2>
<h3 id="literature-review---chordia2020anomalies">Literature Review - <span class="citation" data-cites="chordia2020anomalies">Chordia, Goyal, and Saretto (<a href="#/references" role="doc-biblioref" onclick="">2020</a>)</span></h3>
<div style="height: 2em;">

</div>
<p>Asset pricing studies seek to answer a variety of research questions, but they usually share:</p>
<ul>
<li>A common question (i.e are expected stock returns predictable)</li>
<li>At least one common dataset (i.e CRSP)</li>
</ul>
<div style="height: 2em;">

</div>
<p>Sufficient grounds for researchers to be concerned about MHT in financial predictability studies.</p>
<p>Inference can only be made by making explicit assumptions about the data-generating process and the ability of researchers to filter unsound strategies.</p>
</section>
<section id="chordia2020anomalies" class="slide level2">
<h2><span class="citation" data-cites="chordia2020anomalies">Chordia, Goyal, and Saretto (<a href="#/references" role="doc-biblioref" onclick="">2020</a>)</span></h2>
<div style="height: 2em;">

</div>
<p>In their study, MHT-adjusted thresholds for t-statistics of time-series alpha and cross-sectional FM regressions slopes are 3.8 and 3.4 respectively, implying 1,028 and 4,790 tests to be attempted to have a 0.50 probability of meeting the threshold.</p>
<div style="height: 1em;">

</div>
<p><strong>Important</strong> There is no absolute standard of significance for hypothesis testing, only generally accepted guidelines for statistical research.</p>
<p><strong>Important</strong> Also consider that authors usually need a theory, motivation or story to get published. Similar in a corporation.</p>
<div style="height: 1em;">

</div>
<p>➡️ This raises the <span class="math inline">R</span> in Ioannidis’s formulas.</p>
</section>
<section id="other-problems-in-empirical-finance" class="slide level2">
<h2>Other Problems in Empirical Finance</h2>
<div style="height: 2em;">

</div>
<p>Many other potential issues are of concern in the field of empirical finance. We will discuss three:</p>
<ul>
<li>Data integrity and data revisions.</li>
<li>Non-standard errors (i.e.&nbsp;researcher-level estimation uncertainty).</li>
<li>Use of ML/AI.</li>
</ul>
</section>
<section id="data-integrity-and-data-revisions" class="slide level2">
<h2>Data integrity and data revisions</h2>
<h3 id="noisy-factors-akey2023noisy">Noisy Factors – <span class="citation" data-cites="akey2023noisy">Akey, Robertson, and Simutin (<a href="#/references" role="doc-biblioref" onclick="">2023</a>)</span></h3>
<div style="height: 1em;">

</div>
<p>Understanding the variations between the significance of the Fama-French factors depending on the time they were downloaded.</p>
<p>They find that factor returns differ <strong>substantially</strong> depending on factor vintage, which causes a third of the anomaly long-short portfolios to lose statistical significance.</p>
<div style="height: 0.5em;">

</div>
<p>How is that possible?</p>
<ul>
<li>Small discrepancies in how the data was gathered</li>
<li>Calculation differences in rounding effects</li>
<li>Retroactive corrections</li>
</ul>
<div style="height: 0.5em;">

</div>
<p><strong>Question</strong> If such small deviations in methodology have such an important impact on study results, what other hidden issues could exist which are currently overlooked by researchers?</p>

<aside><div>
<p>Bloomberg published a <a href="https://www.bloomberg.com/news/features/2024-03-11/a-fight-over-factor-investing-tests-a-pillar-of-modern-finance">feature article</a> on this study.</p>
</div></aside></section>
<section id="noisy-factors-akey2023noisy-1" class="slide level2">
<h2>Noisy Factors – <span class="citation" data-cites="akey2023noisy">Akey, Robertson, and Simutin (<a href="#/references" role="doc-biblioref" onclick="">2023</a>)</span></h2>
<h3 id="historical-data-from-the-wayback-machine">Historical data from the <a href="https://webcf.waybackmachine.org/">Wayback Machine</a>!</h3>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/wayback.png" class="quarto-figure quarto-figure-center" height="600"></p>
</figure>
</div>
</section>
<section id="noisy-factors-akey2023noisy-2" class="slide level2">
<h2>Noisy Factors – <span class="citation" data-cites="akey2023noisy">Akey, Robertson, and Simutin (<a href="#/references" role="doc-biblioref" onclick="">2023</a>)</span></h2>
<p>HML is the most affected factor</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/hml_noisy.png" class="quarto-figure quarto-figure-center" height="600"></p>
</figure>
</div>
</section>
<section id="noisy-factors-akey2023noisy-3" class="slide level2">
<h2>Noisy Factors – <span class="citation" data-cites="akey2023noisy">Akey, Robertson, and Simutin (<a href="#/references" role="doc-biblioref" onclick="">2023</a>)</span></h2>
<p>α of well-diversified portfolios are significantly affected.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/noisy_portfolios.png" class="quarto-figure quarto-figure-center" height="600"></p>
</figure>
</div>
</section>
<section id="non-standard-errors" class="slide level2">
<h2>Non-Standard Errors</h2>
<h3 id="non-standard-errors-menkveld2024nonstandard">Non-Standard Errors – <span class="citation" data-cites="menkveld2024nonstandard">Menkveld et al. (<a href="#/references" role="doc-biblioref" onclick="">2024</a>)</span></h3>
<div style="height: 1em;">

</div>
<p>The first crowd-sourced empirical paper in Economics/Finance. The project seeks to expose the variation across researchers for results they report independently testing the same hypotheses on the same sample.</p>
<div style="height: 1em;">

</div>
<p>343 authors from 34 countries answering the same asset pricing questions:</p>
<ul>
<li>How large are non-standard errors in financial economics?</li>
<li>Can NSE be “explained” in the cross-section of researchers?</li>
<li>Does peer-feedback reduce non-standard errors?</li>
<li>Are researchers accurately aware of the size of NSE?</li>
</ul>
</section>
<section id="non-standard-errors-menkveld2024nonstandard-1" class="slide level2">
<h2>Non-Standard Errors – <span class="citation" data-cites="menkveld2024nonstandard">Menkveld et al. (<a href="#/references" role="doc-biblioref" onclick="">2024</a>)</span></h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/nse_reported.png" class="quarto-figure quarto-figure-center" height="600"></p>
</figure>
</div>
</section>
<section id="design-choices-and-machine-learning-chen2024design" class="slide level2">
<h2>Design Choices and Machine Learning – <span class="citation" data-cites="chen2024design">M. Chen, Hanauer, and Kalsbach (<a href="#/references" role="doc-biblioref" onclick="">2024</a>)</span></h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/design_choices.png" class="quarto-figure quarto-figure-center" height="550"></p>
</figure>
</div>
</section>
<section id="additional-issues-with-llms" class="slide level2">
<h2>Additional Issues with LLMs</h2>
<div style="height: 2em;">

</div>
<h3 id="replicability">Replicability</h3>
<ul>
<li>“Closed” models (like OpenAI’s) change constantly</li>
<li>They are probabilistic models, so results vary with each execution</li>
</ul>
<div style="height: 2em;">

</div>
<h3 id="researcher-degrees-of-freedom">Researcher Degrees of Freedom:</h3>
<ul>
<li>Even minor changes to the prompt can completely alter the results</li>
<li>Since the models are probabilistic, simply repeating the experiment can yield different results</li>
<li>With billions of parameters, almost anything can be achieved with some fine-tuning</li>
</ul>
</section>
<section id="replication-crisis-in-finance" class="slide level2">
<h2>Replication Crisis in Finance?</h2>
<div style="height: 2em;">

</div>
<ul>
<li><span class="citation" data-cites="baker2016reproducibility">Baker (<a href="#/references" role="doc-biblioref" onclick="">2016</a>)</span>: 1,500 scientists lift the lid on reproducibility
<ul>
<li>More than 70% of researchers have tried and failed to reproduce another scientist’s experiments, and more than half have failed to reproduce their own experiments.</li>
<li>Although 52% of those surveyed agree that there is a significant ‘crisis’ of reproducibility, less than 31% think that failure to reproduce published results means that the result is probably wrong, and most say that they still trust the published literature.</li>
</ul></li>
</ul>
<div style="height: 1em;">

</div>
<ul>
<li><span class="citation" data-cites="harvey2019replication">Harvey (<a href="#/references" role="doc-biblioref" onclick="">2019</a>)</span> : Replication policies at top finance journals are lagging behind economics journals.
<ul>
<li>Harvey was editor of the Journal of Finance and try to develop a unified policy across all top finance journals</li>
</ul></li>
</ul>
</section>
<section id="replication-crisis-in-finance-1" class="slide level2">
<h2>Replication Crisis in Finance?</h2>
<div style="height: 2em;">

</div>
<ul>
<li><span class="citation" data-cites="jensen2023there">Jensen, Kelly, and Pedersen (<a href="#/references" role="doc-biblioref" onclick="">2023</a>)</span>: Is There A Replication Crisis In Finance?
<ul>
<li>The majority of asset pricing factors: (1) can be replicated, (2) can be clustered into 13 themes, the majority of which are significant parts of the tangency portfolio, (3) work out-of-sample in a new large data set covering 93 countries, and (4) have evidence that is strengthened (not weakened) by the large number of observed factors.</li>
</ul></li>
</ul>
<div style="height: 1em;">

</div>
<ul>
<li><span class="citation" data-cites="harvey2022pitfalls">Harvey (<a href="#/references" role="doc-biblioref" onclick="">2022</a>)</span>: Be Skeptical of Asset Management Research
<ul>
<li>Argues that economic incentives distort outcomes in both academic and practitioner finance research.</li>
</ul></li>
</ul>
<div style="height: 1em;">

</div>
<ul>
<li><span class="citation" data-cites="fivsar2024reproducibility">Fišar et al. (<a href="#/references" role="doc-biblioref" onclick="">2024</a>)</span>: Reproducibility in Management Science increased significantly following mandatory code and data sharing policies.</li>
</ul>
</section>
<section id="a-problem-in-the-industry" class="slide level2">
<h2>A Problem in the Industry?</h2>
<div style="height: 1em;">

</div>
<p><span class="citation" data-cites="harvey2022pitfalls">Harvey (<a href="#/references" role="doc-biblioref" onclick="">2022</a>)</span>: yes, but incentives make it less of a problem than in academia.</p>
<div style="height: 1em;">

</div>
<blockquote>
<p><strong>I believe p-hacking is less of a problem in asset management than in academia</strong>—in particular, less of a problem in the proprietary research that is the foundation for a product. The reasons are simple. First, in the presence of a performance fee, the asset management company’s research needs to be optimized in a way that maximizes the chances of repeatable performance. This means <strong>the asset manager does not choose the best-performing backtest, because it is the one that is most likely to be overfit</strong>. If the manager were to launch a backtest-overfitted strategy, it would likely fail and thereby generate no performance fees. The second reason is reputation. Academic tenure has no equivalent in asset management. <strong>If an asset manager’s products disappoint because of overfitting, the firm’s investors will flee. This market mechanism naturally minimizes the overfitting</strong>. That said, asset management companies still produce a substantial amount of low-quality research. Similar to the academic research, investors need to be skeptical.</p>
</blockquote>
</section>
<section id="replication-issues" class="slide level2">
<h2>Replication Issues</h2>
<h3 id="literature-hou2020replicating">Literature – <span class="citation" data-cites="hou2020replicating">Hou, Xue, and Zhang (<a href="#/references" role="doc-biblioref" onclick="">2020</a>)</span></h3>
<div style="height: 1em;">

</div>
<p>One of the groups that has attempted to measure the robustness of past asset pricing studies by re-assessing the strength of established factors.</p>
<div style="height: 1em;">

</div>
<p>Study design:</p>
<ul>
<li>Controlling for micro-caps (removing their impacts)</li>
<li>Looking for high certainty (high t-statistics)</li>
</ul>
<div style="height: 1em;">

</div>
<p><strong>Conclusion</strong> Most anomalies are not replicable empirically, and those that are successfully replicated are so with magnitudes that are often lower.</p>
</section>
<section id="replication-issues-1" class="slide level2">
<h2>Replication issues</h2>
<h3 id="literature-hou2020replicating-1">Literature – <span class="citation" data-cites="hou2020replicating">Hou, Xue, and Zhang (<a href="#/references" role="doc-biblioref" onclick="">2020</a>)</span></h3>
<div style="height: 1em;">

</div>
<p>Emphasis on the impact of controlling for micro-cap stocks:</p>
<ul>
<li>Account for 3% of stock market value yet 60% of stocks.</li>
<li>By using equal weighted-returns, many studies significantly overweight their impact.</li>
<li>In practice, the high costs of trading micro-caps can explain why anomalies deemed significant exist.</li>
</ul>
<div style="height: 1em;">

</div>
<p>Is it realistic to consider strategies to be significant almost uniquely on the behavior of this (small) sub-sample of equities?</p>
<p>Most practical implementations of researched investing strategy will not prioritize micro-caps in their design!</p>
<div style="height: 1em;">

</div>
<p><strong>Conclusion</strong> While the influence of micro-caps is overwhelming in asset pricing studies, it is almost nonexistent in actual money management.</p>
</section>
<section id="some-hope" class="slide level2">
<h2>Some Hope?</h2>
<h3 id="literature-chen2021open">Literature – <span class="citation" data-cites="chen2021open">A. Y. Chen and Zimmermann (<a href="#/references" role="doc-biblioref" onclick="">2021</a>)</span></h3>
<div style="height: 1em;">

</div>
<p>For Chen and Zimmerman, past replications studies measure predictability deviating from the methods employed in original research. - If the method is different, for sure the results will be different!</p>
<div style="height: 1em;">

</div>
<p><strong>Important</strong> Replication must be undertaken with the exact same conditions as in the original study. The methodology must be followed precisely and assumptions be extremely limited.</p>
<ul>
<li>Many replications show a t-statistics of 6.0 or more, with a corresponding value of approximately 0.000000002, which is EXTREMELY hard to data-mine.</li>
</ul>

<aside><div>
<p>Their code and data is available at <a href="https://www.openassetpricing.com/">Open Asset Pricing</a></p>
</div></aside></section>
<section id="some-hope-chen2021open" class="slide level2">
<h2>Some Hope? <span class="citation" data-cites="chen2021open">A. Y. Chen and Zimmermann (<a href="#/references" role="doc-biblioref" onclick="">2021</a>)</span></h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/fig_tstathand_vs_tstatOP-2048x1229.png" class="quarto-figure quarto-figure-center" height="600"></p>
</figure>
</div>
</section>
<section id="conclusion" class="slide level2">
<h2>Conclusion</h2>
<div style="height: 2em;">

</div>
<p>Importance of ethical practices amongst scientists:</p>
<ul>
<li>Employing correct statistical methods</li>
<li>Good intentions and avoiding manipulations</li>
<li>Limiting negative incentives</li>
<li>Promoting transparency and collaboration</li>
</ul>
<blockquote>
<p>There is no escaping it, if your initial method is wrong, every conclusion that ensues is wrong.</p>
</blockquote>
</section>
<section id="rampini-viswanathan-and-vuillemey-2019" class="slide level2">
<h2>Rampini, Viswanathan, and Vuillemey (2019)</h2>
<h3 id="retracted-risk-management-in-financial-institutions">Retracted: Risk Management in Financial Institutions</h3>
<div style="font-size: 0.9em; margin-top: 1em;">
<blockquote>
<p>The authors hereby retract the above article, published in print in the April 2020 issue of <em>The Journal of Finance</em>. A replication study finds that the replication code provided in the supplementary information section of the article does not reproduce some of the central findings reported in the article. Upon reexamination of the work, the authors confirmed that the replication code does not fully reproduce the published results and were unable to provide revised code that does. Therefore, the authors conclude that the published results are not reliable and that the responsible course of action is to retract the article and return the <em>Brattle Group Distinguished Paper Prize</em> that the article received. The authors deeply regret the damage this caused to the journal and the scholarly community. The specific contributions of the authors to the article were as follows: the first and second author provided the theoretical hypothesis; all three authors jointly designed the empirical approach and identification strategy; the third author constructed and handled the data, implemented the empirical analysis, and provided the empirical results as well as the replication data and code. The third author states that the original data and code that produced the published results were lost. The first and second author were not notified of the loss of the original data and code at the time it occurred and had no prior knowledge of the issues with the replication data and code provided to the journal.</p>
</blockquote>
</div>
</section>
<section id="the-turing-way-an-ideal-research-methodology" class="slide level2">
<h2>The Turing Way: An “ideal” research methodology</h2>
<div style="height: 1em;">

</div>
<p>As technological advances become prevalent in corporate and academic research, scientists have the possibility of making their work fit for replication with adequate documentation and rigorous exposition.</p>
<div style="height: 1em;">

</div>
<p>The <a href="https://book.the-turing-way.org/index.html">Turing Way</a> Project:</p>
<ul>
<li>Started in 2019</li>
<li>Guide for researcher outlining the best standards in terms of scientific methodology</li>
<li>Open-source</li>
<li>Multi-disciplinary</li>
</ul>
<div style="height: 1em;">

</div>
<p>➡️ When researchers employ transparency in their research - in other words, when they properly document and share the data and processes associated with their analyses - the broader research community is able to save valuable time when reproducing or building upon published results.</p>
</section>
<section id="the-turing-way-research-cycle" class="slide level2">
<h2>The Turing Way: Research Cycle</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/research-cycle.jpg" class="quarto-figure quarto-figure-center" height="550"></p>
</figure>
</div>

<aside><div>
<p>The Turing Way project illustration by Scriberia. Used under a CC-BY 4.0 licence. DOI: 10.5281/zenodo.3332807.</p>
</div></aside></section>
<section id="the-turing-way-definitions" class="slide level2">
<h2>The Turing Way: Definitions</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/reproducible-definition-grid.jpg" class="quarto-figure quarto-figure-center" height="550"></p>
</figure>
</div>

<aside><div>
<p>The Turing Way project illustration by Scriberia. Used under a CC-BY 4.0 licence. DOI: 10.5281/zenodo.3332807.</p>
</div></aside></section>
<section id="the-turing-way-guide-for-reproducible-research" class="slide level2">
<h2>The Turing Way: Guide for Reproducible Research</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="figures/reproducibility.jpg" class="quarto-figure quarto-figure-center" height="550"></p>
</figure>
</div>

<aside><div>
<p>The Turing Way project illustration by Scriberia. Used under a CC-BY 4.0 licence. DOI: 10.5281/zenodo.3332807.</p>
</div></aside></section>
<section id="the-turing-way-added-advantages" class="slide level2">
<h2>The Turing Way: Added Advantages</h2>
<div style="height: 2em;">

</div>
<ul>
<li>Track a complete history of your research</li>
<li>Facilitate collaboration and review process</li>
<li>Publish validated research and avoid misinformation</li>
<li>Write your papers, thesis and reports efficiently</li>
<li>Get credits for your work fairly</li>
<li>Ensure continuity of your work</li>
</ul>
</section>
<section id="the-turing-way-barriers-to-reproducibility" class="slide level2">
<h2>The Turing Way: Barriers to reproducibility</h2>
<div style="height: 1em;">

</div>
<ul>
<li>Limited incentives to give evidence against yourself</li>
<li>Publication bias towards novel findings</li>
<li>Held to higher standards than others</li>
<li>Not considered for promotion</li>
<li>Big data and complex computational infrastructure</li>
<li>Being reproducible does not mean the answer is right</li>
<li>Takes time</li>
<li>Support additional users</li>
<li>Requires additional skills</li>
</ul>
</section>
<section id="references" class="slide level2 smaller scrollable">
<h2>References</h2>

<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-akey2023noisy" class="csl-entry" role="listitem">
Akey, Pat, Adriana Robertson, and Mikhail Simutin. 2023. <span>“Noisy Factors.”</span> <em>Rotman School of Management Working Paper, European Corporate Governance Institute–Finance Working Paper</em>, no. 920.
</div>
<div id="ref-baker2016reproducibility" class="csl-entry" role="listitem">
Baker, Monya. 2016. <span>“Reproducibility Crisis.”</span> <em>Nature</em> 533 (26): 353–66.
</div>
<div id="ref-chen2021open" class="csl-entry" role="listitem">
Chen, Andrew Y, and Tom Zimmermann. 2021. <span>“Open Source Cross-Sectional Asset Pricing.”</span> <em>Critical Finance Review, Forthcoming</em>.
</div>
<div id="ref-chen2024design" class="csl-entry" role="listitem">
Chen, Minghui, Matthias X Hanauer, and Tobias Kalsbach. 2024. <span>“Design Choices, Machine Learning, and the Cross-Section of Stock Returns.”</span> <em>Available at SSRN</em>.
</div>
<div id="ref-chordia2020anomalies" class="csl-entry" role="listitem">
Chordia, Tarun, Amit Goyal, and Alessio Saretto. 2020. <span>“Anomalies and False Rejections.”</span> <em>The Review of Financial Studies</em> 33 (5): 2134–79.
</div>
<div id="ref-fivsar2024reproducibility" class="csl-entry" role="listitem">
Fišar, Miloš, Ben Greiner, Christoph Huber, Elena Katok, Ali I Ozkes, and Management Science Reproducibility Collaboration. 2024. <span>“Reproducibility in Management Science.”</span> <em>Management Science</em> 70 (3): 1343–56.
</div>
<div id="ref-grossman1980impossibility" class="csl-entry" role="listitem">
Grossman, Sanford J, and Joseph E Stiglitz. 1980. <span>“On the Impossibility of Informationally Efficient Markets.”</span> <em>The American Economic Review</em> 70 (3): 393–408.
</div>
<div id="ref-harvey2019replication" class="csl-entry" role="listitem">
Harvey, Campbell R. 2019. <span>“Replication in Financial Economics.”</span> <em>Available at SSRN 3409466</em>.
</div>
<div id="ref-harvey2022pitfalls" class="csl-entry" role="listitem">
———. 2022. <span>“The Pitfalls of Asset Management Research.”</span> <em>Journal of Systematic Investment</em> 2 (1): 9–17.
</div>
<div id="ref-hou2020replicating" class="csl-entry" role="listitem">
Hou, Kewei, Chen Xue, and Lu Zhang. 2020. <span>“Replicating Anomalies.”</span> <em>The Review of Financial Studies</em> 33 (5): 2019–2133.
</div>
<div id="ref-ioannidis2005most" class="csl-entry" role="listitem">
Ioannidis, John PA. 2005. <span>“Why Most Published Research Findings Are False.”</span> <em>PLoS Medicine</em> 2 (8): e124.
</div>
<div id="ref-jensen2023there" class="csl-entry" role="listitem">
Jensen, Theis Ingerslev, Bryan Kelly, and Lasse Heje Pedersen. 2023. <span>“Is There a Replication Crisis in Finance?”</span> <em>The Journal of Finance</em> 78 (5): 2465–2518.
</div>
<div id="ref-menkveld2024nonstandard" class="csl-entry" role="listitem">
Menkveld, Albert J, Anna Dreber, Felix Holzmeister, Juergen Huber, Magnus Johannesson, Michael Kirchler, Sebastian Neusüss, et al. 2024. <span>“Nonstandard Errors.”</span> <em>The Journal of Finance</em> 79 (3): 2339–90.
</div>
</div>
</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../logos/logo_hec_montreal_bleu_web.svg" class="slide-logo"></p>
<div class="footer footer-default">
<p>MATH60207</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="lecture10_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="lecture10_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="lecture10_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="lecture10_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="lecture10_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="lecture10_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="lecture10_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="lecture10_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="lecture10_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="lecture10_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":false,"theme":"whiteboard"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>